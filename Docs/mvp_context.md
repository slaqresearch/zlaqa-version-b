â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          SLAQ MVP - Django Monolithic Application            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Presentation Layer (Templates + Static Files)       â”‚   â”‚
â”‚  â”‚  - HTML Templates (Django Template Language)         â”‚   â”‚
â”‚  â”‚  - Tailwind CSS (Responsive Design)                  â”‚   â”‚
â”‚  â”‚  - Vanilla JavaScript (Audio Recording, AJAX)        â”‚   â”‚
â”‚  â”‚  - Chart.js (Data Visualization)                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                       â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Views Layer (Django Views)                          â”‚  â”‚
â”‚  â”‚  - Session Authentication                             â”‚  â”‚
â”‚  â”‚  - Audio Upload Handling                             â”‚  â”‚
â”‚  â”‚  - Analysis Results Display                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                       â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Business Logic                                       â”‚  â”‚
â”‚  â”‚  - Audio Validation                                   â”‚  â”‚
â”‚  â”‚  - Celery Task Queue                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                  â”‚
        â–¼                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PostgreSQL DB   â”‚            â”‚  Celery Worker   â”‚
â”‚  - Users         â”‚            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  - Patients      â”‚            â”‚  â”‚ AI Engine  â”‚  â”‚
â”‚  - Recordings    â”‚            â”‚  â”‚ Wav2Vec2   â”‚  â”‚
â”‚  - Analyses      â”‚            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚  Redis Queue     â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    MVP SCOPE & REQUIREMENTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## ğŸ¯ MVP Goal
Build a functional stuttering analysis platform where patients can record audio, receive AI-powered stutter detection analysis, and view detailed results with visualizations.

## âœ… MVP Features (Phase 1)

### 1. User Authentication
- âœ… Patient registration with email/password
- âœ… Login/logout functionality
- âœ… Session-based authentication
- âœ… Basic profile page (view only)
- âŒ Password reset (future)
- âŒ Email verification (future)
- âŒ Therapist accounts (future)

### 2. Audio Recording & Upload
- âœ… Browser-based audio recording (Web Audio API)
- âœ… Visual feedback during recording (waveform)
- âœ… Record/Stop/Play preview controls
- âœ… File upload from device (alternative to recording)
- âœ… Audio format validation (WAV, MP3, WebM)
- âœ… File size limit (max 10MB)
- âŒ Real-time recording quality feedback (future)
- âŒ Noise cancellation (future)

### 3. AI Analysis
- âœ… Wav2Vec2 speech-to-text transcription
- âœ… Character mismatch detection
- âœ… CTC loss score calculation
- âœ… Severity classification (None/Mild/Moderate/Severe)
- âœ… Confidence score
- âœ… Background processing via Celery
- âœ… Status tracking (pending â†’ processing â†’ completed)
- âŒ Stutter event timestamps (future)
- âŒ Event type classification (future)
- âŒ Advanced ML models (future)

### 4. Results Display
- âœ… Analysis results page with key metrics
- âœ… Severity badge (color-coded)
- âœ… Actual vs Target transcript comparison
- âœ… Mismatch percentage display
- âœ… Basic visualization (Chart.js bar/line charts)
- âœ… List of mismatched character sequences
- âŒ Interactive audio playback with timestamp markers (future)
- âŒ Detailed stutter event timeline (future)
- âŒ PDF report download (future)

### 5. Recording History
- âœ… List all patient recordings with status
- âœ… Filter by status (all/completed/pending)
- âœ… View individual recording details
- âœ… Delete recordings
- âŒ Advanced search/filtering (future)
- âŒ Bulk operations (future)

### 6. Basic Dashboard
- âœ… Overview with recent recordings count
- âœ… Latest analysis summary
- âœ… Quick access to record new audio
- âŒ Progress charts over time (future)
- âŒ Improvement metrics (future)
- âŒ Therapy recommendations (future)

## ğŸ—ï¸ MVP Technology Stack

### Backend (Core MVP)
- **Framework**: Django 4.2
- **Database**: PostgreSQL 13+ (can use SQLite for local dev)
- **Task Queue**: Celery 5.x + Redis
- **Authentication**: Django Session Auth
- **AI Model**: wav2vec2-base-960h (Hugging Face)

### Frontend (Simplified)
- **Templates**: Django Templates (DTL)
- **CSS**: Tailwind CSS via CDN (no build process)
- **JavaScript**: Vanilla JS (ES6+)
- **Audio**: Web Audio API + MediaRecorder
- **Charts**: Chart.js 4.x via CDN

### Infrastructure (Minimal)
- **Web Server**: Django development server (MVP), Gunicorn (production)
- **Cache/Queue**: Redis 6+
- **File Storage**: Local filesystem (media directory)

## ğŸ“Š MVP Database Models

### Core Models (Simplified)
```python
# core/models.py
- User (Django built-in)
- Patient
  - user (OneToOne)
  - date_of_birth
  - phone_number (optional)
  - created_at
```

### Diagnosis Models (MVP Scope)
```python
# diagnosis/models.py
- AudioRecording
  - patient (FK)
  - audio_file
  - status (pending/processing/completed/failed)
  - duration_seconds
  - recorded_at
  - processed_at

- AnalysisResult (Simplified)
  - recording (OneToOne)
  - actual_transcript
  - target_transcript
  - mismatched_chars (JSON list)
  - mismatch_percentage
  - ctc_loss_score
  - severity (none/mild/moderate/severe)
  - confidence_score
  - created_at
```

**Excluded for MVP:**
- StutterEvent model (detailed events)
- Report model
- TherapyRecommendation model
- ProgressTracking model

## ğŸ”„ MVP User Flow

### 1. Registration & Login
```
User visits landing page
â†’ Click "Register"
â†’ Fill registration form (email, password, name, DOB)
â†’ System creates User + Patient profile
â†’ Auto-login after registration
â†’ Redirect to dashboard
```

### 2. Record Audio
```
Patient clicks "Record New Audio"
â†’ Browser requests microphone permission
â†’ Patient speaks into microphone
â†’ Visual waveform shows audio input
â†’ Click "Stop" when finished
â†’ Preview recording (play button)
â†’ Click "Upload for Analysis"
â†’ File uploaded to server
â†’ Recording status: "Pending"
â†’ Redirect to recordings list
```

### 3. AI Analysis (Background)
```
Celery worker picks up task
â†’ Load Wav2Vec2 model
â†’ Transcribe audio
â†’ Compare with target transcript
â†’ Calculate metrics (mismatch %, CTC loss)
â†’ Classify severity
â†’ Save AnalysisResult
â†’ Update recording status: "Completed"
```

### 4. View Results
```
Patient sees "Completed" badge on recording
â†’ Click to view analysis
â†’ See results page:
  - Severity badge (color-coded)
  - Mismatch percentage
  - Actual vs Target transcripts
  - Basic metrics chart
  - List of mismatched sequences
```

## ğŸ¨ MVP Pages & Templates

### Authentication Pages
1. **Landing Page** (`home.html`)
   - Hero section with app description
   - "Get Started" and "Login" buttons
   - Simple, clean design

2. **Register Page** (`register.html`)
   - Form: Email, Password, Full Name, Date of Birth
   - Validation messages
   - Link to login page

3. **Login Page** (`login.html`)
   - Email/password form
   - "Remember me" checkbox
   - Link to register page

### Main Application Pages
4. **Dashboard** (`dashboard.html`)
   - Welcome message with patient name
   - Statistics cards:
     - Total recordings
     - Completed analyses
     - Latest severity
   - "Record New Audio" CTA button
   - Recent recordings list (last 5)

5. **Record Audio Page** (`record.html`)
   - Microphone permission request
   - Record/Stop/Play controls
   - Waveform visualization (canvas)
   - File upload alternative
   - Upload button

6. **Recordings List** (`recordings_list.html`)
   - Table/card view of all recordings
   - Columns: Date, Duration, Status, Actions
   - Status badges (pending/processing/completed/failed)
   - Click to view analysis (if completed)
   - Delete button

7. **Analysis Results** (`analysis_detail.html`)
   - Recording info (date, duration)
   - Severity badge (large, prominent)
   - Key metrics:
     - Mismatch percentage (with chart)
     - CTC loss score
     - Confidence score
   - Transcript comparison:
     - Target transcript
     - Actual transcript (highlighted differences)
   - Mismatched sequences list
   - Basic bar chart showing metrics

8. **Profile Page** (`profile.html`)
   - Display patient info
   - Email, name, DOB, phone
   - Join date
   - âŒ Edit functionality (future)

## ğŸ”Œ MVP URL Structure

```python
# Authentication
GET  /                          # Landing page
GET  /register/                 # Registration form
POST /register/                 # Process registration
GET  /login/                    # Login form
POST /login/                    # Process login
GET  /logout/                   # Logout

# Main App
GET  /dashboard/                # Patient dashboard
GET  /profile/                  # View profile

# Audio Recording
GET  /record/                   # Recording interface
POST /recordings/upload/        # Upload audio file
GET  /recordings/               # List all recordings
GET  /recordings/<id>/          # View recording details
POST /recordings/<id>/delete/   # Delete recording

# Analysis
GET  /analysis/<id>/            # View analysis results
GET  /api/analysis/<id>/status/ # Check status (AJAX)
```

## ğŸ¨ MVP UI/UX Design

### Color Theme 
- White && Black 
- Dark Green (#009050) 

### Color Scheme (Severity)
- **None**: Green (#10b981) - No stuttering detected
- **Mild**: Yellow (#fbbf24) - Minor stuttering
- **Moderate**: Orange (#f97316) - Noticeable stuttering
- **Severe**: Red (#ef4444) - Significant stuttering

### Layout
- **Mobile First**: Responsive design starting at 320px
- **Clean & Simple**: Minimal distractions
- **Clear CTAs**: Prominent action buttons
- **Status Feedback**: Clear loading states and success/error messages

### Tailwind Components
- **Buttons**: `btn-primary`, `btn-secondary`, `btn-danger`
- **Cards**: White background, shadow, rounded corners
- **Forms**: Full-width inputs, clear labels, validation styling
- **Badges**: Pill-shaped status indicators
- **Tables**: Striped rows, hover effects

## ğŸ’¾ MVP Static Files Structure

```
static/
â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ tailwind.min.css         # Tailwind via CDN (MVP)
â”‚   â””â”€â”€ custom.css               # Custom overrides (minimal)
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ audio-recorder.js        # Web Audio API logic
â”‚   â”œâ”€â”€ charts.js                # Chart.js initialization
â”‚   â””â”€â”€ utils.js                 # Helper functions
â””â”€â”€ images/
    â””â”€â”€ logo.png                 # App logo
```

## ğŸš€ MVP Development Timeline

### Week 1: Setup & Authentication
- [ ] Django project setup
- [ ] PostgreSQL database configuration
- [ ] User registration/login
- [ ] Base templates (base.html, navbar, footer)
- [ ] Landing page
- [ ] Basic styling with Tailwind

### Week 2: Audio Recording
- [ ] Audio recording page UI
- [ ] Web Audio API integration
- [ ] MediaRecorder implementation
- [ ] File upload endpoint
- [ ] Audio validation
- [ ] Recordings list page

### Week 3: AI Integration
- [ ] Celery + Redis setup
- [ ] Wav2Vec2 model integration
- [ ] Analysis task implementation
- [ ] AnalysisResult model
- [ ] Status tracking
- [ ] Error handling

### Week 4: Results Display
- [ ] Analysis detail page
- [ ] Chart.js integration
- [ ] Transcript comparison UI
- [ ] Dashboard page
- [ ] Profile page
- [ ] Testing & bug fixes

### Week 5: Polish & Deployment
- [ ] Responsive design testing
- [ ] Loading states & feedback
- [ ] Error messages
- [ ] Performance optimization
- [ ] Documentation
- [ ] MVP deployment

## ğŸ§ª MVP Testing Checklist

### Functional Testing
- [ ] User can register and login
- [ ] User can record audio via microphone
- [ ] User can upload audio file
- [ ] Audio is validated (format, size)
- [ ] Celery task processes audio
- [ ] Analysis results are displayed correctly
- [ ] Severity is classified accurately
- [ ] User can view recording history
- [ ] User can delete recordings
- [ ] Status updates work correctly

### UI/UX Testing
- [ ] Responsive on mobile (320px+)
- [ ] Responsive on tablet (768px+)
- [ ] Responsive on desktop (1024px+)
- [ ] Loading indicators show during processing
- [ ] Success/error messages display
- [ ] Forms validate input
- [ ] Navigation works correctly

### Browser Testing
- [ ] Chrome (latest)
- [ ] Firefox (latest)
- [ ] Safari (latest - Mac/iOS)
- [ ] Edge (latest)

## ğŸ“¦ MVP Dependencies (requirements.txt)

```txt
# Core Django
Django==4.2.7
psycopg2-binary==2.9.9
python-decouple==3.8

# Task Queue
celery==5.3.4
redis==5.0.1

# AI/ML
torch==2.1.0
transformers==4.35.0
librosa==0.10.1
soundfile==0.12.1

# Utilities
Pillow==10.1.0
python-dateutil==2.8.2

# Production (optional for MVP)
gunicorn==21.2.0
whitenoise==6.6.0
```

## âš™ï¸ MVP Configuration

### settings.py (Essential Settings)
```python
# Security (Development)
DEBUG = True
SECRET_KEY = 'your-secret-key-here'
ALLOWED_HOSTS = ['localhost', '127.0.0.1']

# Database
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': 'slaq_mvp',
        'USER': 'postgres',
        'PASSWORD': 'password',
        'HOST': 'localhost',
        'PORT': '5432',
    }
}

# Static & Media
STATIC_URL = '/static/'
STATIC_ROOT = BASE_DIR / 'staticfiles'
STATICFILES_DIRS = [BASE_DIR / 'static']
MEDIA_URL = '/media/'
MEDIA_ROOT = BASE_DIR / 'media'

# Celery
CELERY_BROKER_URL = 'redis://localhost:6379/0'
CELERY_RESULT_BACKEND = 'redis://localhost:6379/0'

# File Upload
MAX_UPLOAD_SIZE = 10485760  # 10MB
ALLOWED_AUDIO_FORMATS = ['.wav', '.mp3', '.webm', '.ogg']
```

## ğŸš€ MVP Deployment (Simple)

### Local Development
```bash
# Terminal 1: Django
python manage.py runserver

# Terminal 2: Celery Worker
celery -A slaq_project worker --pool=solo -l info

# Terminal 3: Redis
redis-server
```

### Production (Basic)
```bash
# Install dependencies
pip install -r requirements.txt

# Collect static files
python manage.py collectstatic --noinput

# Run migrations
python manage.py migrate

# Start Gunicorn
gunicorn slaq_project.wsgi:application --bind 0.0.0.0:8000

# Start Celery (separate process)
celery -A slaq_project worker -l info

# Use Nginx as reverse proxy (recommended)
```

## ğŸ¯ MVP Success Criteria

### Functional
- âœ… Users can register and login
- âœ… Users can record and upload audio
- âœ… AI analysis completes within 2 minutes
- âœ… Results display with 95%+ accuracy
- âœ… No critical bugs or crashes

### Performance
- âœ… Page load < 3 seconds
- âœ… Audio upload < 10 seconds
- âœ… Responsive on all devices
- âœ… Supports 10+ concurrent users

### User Experience
- âœ… Intuitive navigation
- âœ… Clear feedback and status updates
- âœ… Accessible on mobile devices
- âœ… Professional, clean design

## ğŸš« MVP Exclusions (Future Versions)

### Not in MVP
- âŒ Therapist accounts and management
- âŒ Email notifications
- âŒ Password reset functionality
- âŒ Profile editing
- âŒ Advanced search and filters
- âŒ PDF report generation
- âŒ Progress tracking over time
- âŒ Therapy recommendations
- âŒ Social features
- âŒ Mobile app
- âŒ Real-time collaboration
- âŒ Payment/billing
- âŒ Multi-language support
- âŒ Detailed stutter event timeline
- âŒ Advanced ML models
- âŒ Voice biometrics

These features are planned for future phases after MVP validation.

---

## ğŸ“ MVP Support

### Development Team
- **Role**: Full-Stack Developer
- **Focus**: Build core features, integrate AI model, design UI

### Key Contacts
- **Technical Questions**: Check Django/Celery documentation
- **AI Model**: Hugging Face Wav2Vec2 docs
- **Deployment**: Django deployment guide

---

**MVP Version**: 1.0.0  
**Target Launch**: [Your Date]  
**Status**: In Development  
**Last Updated**: November 9, 2025
